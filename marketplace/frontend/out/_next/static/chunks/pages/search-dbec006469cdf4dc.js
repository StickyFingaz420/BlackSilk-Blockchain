(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{8266:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return t(8270)}])},8270:function(e,r,t){"use strict";t.r(r);var a=t(5893),s=t(7294),c=t(1163),l=t(9008),i=t.n(l),o=t(1664),n=t.n(o),d=t(6677),x=t(4413),m=t(4695);r.default=()=>{let e=(0,c.useRouter)(),{q:r,category:t,minPrice:l,maxPrice:o}=e.query,{user:h}=(0,x.aC)(),[g,p]=(0,s.useState)([]),[u,b]=(0,s.useState)(!0),[y,v]=(0,s.useState)("relevance"),[j,N]=(0,s.useState)("desc"),[f,w]=(0,s.useState)({category:t||"",minPrice:l?parseFloat(l):0,maxPrice:o?parseFloat(o):1e3,vendor:"",inStock:!0});(0,s.useEffect)(()=>{r&&performSearch()},[r,t,l,o,y,j,f]);let performSearch=async()=>{b(!0);try{let e=[{id:"1",seller:"vendor1",title:"Privacy VPN Service - 1 Year Subscription",description:"Premium VPN service with no logs, military-grade encryption, and Tor compatibility.",category:"digital",price:.15,stock:50,images:["https://via.placeholder.com/400x300?text=VPN"],rating:4.8,createdAt:Date.now()/1e3,escrowRequired:!0},{id:"2",seller:"vendor2",title:"Cryptocurrency Trading Course Bundle",description:"Complete guide to cryptocurrency trading, blockchain technology, and privacy coins.",category:"digital",price:.075,stock:100,images:["https://via.placeholder.com/400x300?text=Course"],rating:4.6,createdAt:Date.now()/1e3-86400,escrowRequired:!0},{id:"3",seller:"vendor3",title:"Hardware Security Key FIDO2",description:"FIDO2/WebAuthn hardware security key for two-factor authentication.",category:"physical",price:.025,stock:25,images:["https://via.placeholder.com/400x300?text=Hardware"],rating:4.9,createdAt:Date.now()/1e3-172800,escrowRequired:!0},{id:"4",seller:"vendor4",title:"Penetration Testing Service",description:"Professional penetration testing and security audit for your systems.",category:"services",price:.5,stock:5,images:["https://via.placeholder.com/400x300?text=Security"],rating:5,createdAt:Date.now()/1e3-259200,escrowRequired:!0},{id:"5",seller:"vendor5",title:"Privacy-focused Email Service",description:"Encrypted email service with anonymous registration and Tor support.",category:"digital",price:.03,stock:200,images:["https://via.placeholder.com/400x300?text=Email"],rating:4.7,createdAt:Date.now()/1e3-345600,escrowRequired:!0}],t=e;if(r){let a=r.toLowerCase();t=e.filter(e=>e.title.toLowerCase().includes(a)||e.description.toLowerCase().includes(a)||e.category.toLowerCase().includes(a))}f.category&&(t=t.filter(e=>e.category===f.category)),f.vendor&&(t=t.filter(e=>e.seller.toLowerCase().includes(f.vendor.toLowerCase()))),f.inStock&&(t=t.filter(e=>e.stock&&e.stock>0)),(t=t.filter(e=>e.price>=f.minPrice&&e.price<=f.maxPrice)).sort((e,t)=>{let a=0;switch(y){case"price":a=e.price-t.price;break;case"rating":a=(e.rating||0)-(t.rating||0);break;case"date":a=e.createdAt-t.createdAt;break;default:if(r){let s=r.toLowerCase(),c=(e.title.toLowerCase().match(RegExp(s,"g"))||[]).length+(e.description.toLowerCase().match(RegExp(s,"g"))||[]).length,l=(t.title.toLowerCase().match(RegExp(s,"g"))||[]).length+(t.description.toLowerCase().match(RegExp(s,"g"))||[]).length;a=c-l}else a=t.createdAt-e.createdAt}return"asc"===j?a:-a}),p(t)}catch(e){console.error("Search failed:",e)}finally{b(!1)}},updateFilter=(e,r)=>{w(t=>({...t,[e]:r}))},clearFilters=()=>{w({category:"",minPrice:0,maxPrice:1e3,vendor:"",inStock:!0})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i(),{children:[(0,a.jsxs)("title",{children:[r?"Search: ".concat(r):"Search"," - BlackSilk Marketplace"]}),(0,a.jsx)("meta",{name:"description",content:'Search results for "'.concat(r,'" on BlackSilk Marketplace')})]}),(0,a.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,a.jsx)("header",{className:"border-b border-amber-800/30 bg-black/50 backdrop-blur-sm sticky top-0 z-40",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsx)(n(),{href:"/",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,a.jsx)("div",{className:"text-2xl",children:"\uD83D\uDD78️"}),(0,a.jsx)("span",{className:"text-xl font-bold text-amber-300",children:"BlackSilk"})]})}),(0,a.jsx)("div",{className:"flex-1 max-w-2xl mx-8",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search products, services...",defaultValue:r,onKeyPress:r=>{if("Enter"===r.key){let t=r.target.value;t.trim()&&e.push("/search?q=".concat(encodeURIComponent(t.trim())))}},className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:border-amber-500 focus:outline-none"}),(0,a.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"\uD83D\uDD0D"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n(),{href:"/dashboard",children:(0,a.jsx)("span",{className:"text-amber-400 hover:text-amber-300",children:"Dashboard"})}),(0,a.jsx)(n(),{href:"/sell",children:(0,a.jsx)("span",{className:"bg-amber-900/50 hover:bg-amber-800/50 text-amber-300 px-4 py-2 rounded-lg",children:"Sell"})})]}):(0,a.jsx)(n(),{href:"/login",children:(0,a.jsx)("span",{className:"bg-amber-900/50 hover:bg-amber-800/50 text-amber-300 px-4 py-2 rounded-lg",children:"Access Wallet"})}),(0,a.jsx)(d.yT,{})]})]})})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(d.e4,{}),(0,a.jsx)(d.Uh,{level:m.uk.High}),(0,a.jsxs)("div",{className:"bg-black/40 border border-amber-800/30 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-amber-300 font-semibold",children:"Filters"}),(0,a.jsx)("button",{onClick:clearFilters,className:"text-amber-400 hover:text-amber-300 text-sm underline",children:"Clear All"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Category"}),(0,a.jsxs)("select",{value:f.category,onChange:e=>updateFilter("category",e.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white text-sm",children:[(0,a.jsx)("option",{value:"",children:"All Categories"}),(0,a.jsx)("option",{value:"digital",children:"Digital Goods"}),(0,a.jsx)("option",{value:"services",children:"Services"}),(0,a.jsx)("option",{value:"physical",children:"Physical Goods"})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Price Range (BLK)"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)("input",{type:"number",placeholder:"Min",value:f.minPrice,onChange:e=>updateFilter("minPrice",Number(e.target.value)),className:"bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white text-sm",step:"0.001",min:"0"}),(0,a.jsx)("input",{type:"number",placeholder:"Max",value:f.maxPrice,onChange:e=>updateFilter("maxPrice",Number(e.target.value)),className:"bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white text-sm",step:"0.001",min:"0"})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Vendor"}),(0,a.jsx)("input",{type:"text",placeholder:"Vendor address or name",value:f.vendor,onChange:e=>updateFilter("vendor",e.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white text-sm"})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:f.inStock,onChange:e=>updateFilter("inStock",e.target.checked),className:"form-checkbox text-amber-500"}),(0,a.jsx)("span",{className:"text-gray-300 text-sm",children:"In stock only"})]})})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-amber-300 mb-2",children:r?'Search Results for "'.concat(r,'"'):"All Products"}),(0,a.jsx)("p",{className:"text-gray-400",children:u?"Searching...":"".concat(g.length," results found")})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Sort by:"}),(0,a.jsxs)("select",{value:y,onChange:e=>v(e.target.value),className:"bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white text-sm",children:[(0,a.jsx)("option",{value:"relevance",children:"Relevance"}),(0,a.jsx)("option",{value:"date",children:"Date Added"}),(0,a.jsx)("option",{value:"price",children:"Price"}),(0,a.jsx)("option",{value:"rating",children:"Rating"})]}),(0,a.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white text-sm",children:[(0,a.jsx)("option",{value:"desc",children:"High to Low"}),(0,a.jsx)("option",{value:"asc",children:"Low to High"})]})]})]}),u?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,r)=>(0,a.jsxs)("div",{className:"bg-black/40 border border-amber-800/30 rounded-lg h-80 animate-pulse",children:[(0,a.jsx)("div",{className:"h-48 bg-gray-800 rounded-t-lg"}),(0,a.jsxs)("div",{className:"p-4 space-y-3",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-800 rounded"}),(0,a.jsx)("div",{className:"h-3 bg-gray-800 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-800 rounded w-1/2"})]})]},r))}):g.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:g.map(e=>(0,a.jsx)(d.Il,{product:e},e.id))}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDD0D"}),(0,a.jsx)("h3",{className:"text-xl text-amber-300 mb-2",children:"No results found"}),(0,a.jsx)("p",{className:"text-gray-400 mb-6",children:r?'No products found for "'.concat(r,'". Try different keywords or adjust your filters.'):"No products match your current filters."}),(0,a.jsxs)("div",{className:"space-x-4",children:[(0,a.jsx)("button",{onClick:clearFilters,className:"bg-amber-900/50 hover:bg-amber-800/50 text-amber-300 px-6 py-3 rounded-lg font-semibold",children:"Clear Filters"}),(0,a.jsx)(n(),{href:"/",children:(0,a.jsx)("span",{className:"bg-gray-800/50 hover:bg-gray-700/50 text-gray-300 px-6 py-3 rounded-lg font-semibold",children:"Browse All"})})]})]})]})]})}),(0,a.jsx)("footer",{className:"border-t border-amber-800/30 bg-black/50 mt-16",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"text-center text-gray-400",children:[(0,a.jsx)("p",{className:"mb-2",children:"\uD83D\uDD12 BlackSilk Marketplace - Privacy First, Decentralized Forever"}),(0,a.jsx)("p",{className:"text-sm",children:"Secured by blockchain • No tracking • Your keys, your crypto"})]})})})]})]})}},1163:function(e,r,t){e.exports=t(9974)}},function(e){e.O(0,[774,996,413,531,677,888,179],function(){return e(e.s=8266)}),_N_E=e.O()}]);