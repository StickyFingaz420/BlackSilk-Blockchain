(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{4297:function(e,t,s){"use strict";s.d(t,{Z:function(){return createLucideIcon}});var i=s(7294),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,t)=>{let s=(0,i.forwardRef)(({color:s="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:c="",children:o,...d},m)=>(0,i.createElement)("svg",{ref:m,...l,width:a,height:a,stroke:s,strokeWidth:n?24*Number(r)/Number(a):r,className:["lucide",`lucide-${toKebabCase(e)}`,c].join(" "),...d},[...t.map(([e,t])=>(0,i.createElement)(e,t)),...Array.isArray(o)?o:[o]]));return s.displayName=`${e}`,s}},8463:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var i=s(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,i.Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},9455:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var i=s(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,i.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},7038:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sell",function(){return s(857)}])},857:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return SellPage}});var i=s(5893),l=s(7294),a=s(9008),r=s.n(a),n=s(1664),c=s.n(n),o=s(1163),d=s(9455),m=s(8463),u=s(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,u.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),x=(0,u.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),p=(0,u.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),g=(0,u.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),k=(0,u.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),b=(0,u.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var j=s(4413),f=s(252);function SellPage(){var e;let t=(0,o.useRouter)(),{isAuthenticated:s,user:a}=(0,j.aC)(),[n,u]=(0,l.useState)({title:"",description:"",category:"digital",subcategory:"",price:"",quantity_available:"1",ships_from:"",ships_to:["Worldwide"],shipping_price:"0",processing_time:"1-3 days"}),[y,v]=(0,l.useState)([]),[N,w]=(0,l.useState)([]),[C,_]=(0,l.useState)(!1),[S,q]=(0,l.useState)(""),[P,I]=(0,l.useState)(!1),L=[{id:"digital",name:"Digital Goods",subcategories:["Software","E-books","Courses","Digital Art"]},{id:"services",name:"Services",subcategories:["Consulting","Design","Writing","Programming"]},{id:"physical",name:"Physical Goods",subcategories:["Electronics","Clothing","Books","Supplies"]}],handleInputChange=e=>{let{name:t,value:s}=e.target;u(e=>({...e,[t]:s}))},removeImage=e=>{v(t=>t.filter((t,s)=>s!==e)),URL.revokeObjectURL(N[e]),w(t=>t.filter((t,s)=>s!==e))},handleShippingRegionChange=(e,t)=>{u(s=>({...s,ships_to:t?[...s.ships_to,e]:s.ships_to.filter(t=>t!==e)}))},validateForm=()=>{if(!n.title.trim())return q("Product title is required"),!1;if(!n.description.trim())return q("Product description is required"),!1;if(!n.price||0>=parseFloat(n.price))return q("Valid price is required"),!1;if(0>=parseInt(n.quantity_available))return q("Valid quantity is required"),!1;if("physical"===n.category&&!n.ships_from.trim())return q("Shipping location is required for physical goods"),!1;if(0===y.length)return q("At least one image is required"),!1;let e="".concat(n.title," ").concat(n.description).toLowerCase();for(let t of["porn","sex","adult","xxx","escort"])if(e.includes(t))return q("Content violates community standards. Don't be sick."),!1;return!0},handleSubmit=async e=>{if(e.preventDefault(),q(""),!s){q("Please login to create a product listing");return}if(validateForm()){_(!0);try{let e=[];for(let t of y){let s=await f.gK.uploadImage(t);if(s.success&&s.hash)e.push(s.hash);else throw Error("Failed to upload image")}let s={seller:(null==a?void 0:a.id)||"",title:n.title,description:n.description,category:n.category,subcategory:n.subcategory,price:parseFloat(n.price),stock:parseInt(n.quantity_available),shippingPrice:parseFloat(n.shipping_price),images:e,shipsFrom:n.ships_from,shipsTo:n.ships_to,processingTime:n.processing_time,isActive:!0,stealthRequired:!0,escrowRequired:!0},i=await f.gK.createProduct(s);i.success?(I(!0),setTimeout(()=>{var e;t.push("/product/".concat(null===(e=i.data)||void 0===e?void 0:e.id))},2e3)):q(i.error||"Failed to create product")}catch(e){q("An error occurred while creating the product")}finally{_(!1)}}};return s?P?(0,i.jsx)("div",{className:"min-h-screen bg-silk-gradient flex items-center justify-center px-4",children:(0,i.jsxs)("div",{className:"silk-card max-w-md text-center",children:[(0,i.jsx)(m.Z,{className:"h-16 w-16 text-silk-success mx-auto mb-4"}),(0,i.jsx)("h2",{className:"text-2xl font-bold text-silk-text mb-4",children:"Product Created!"}),(0,i.jsx)("p",{className:"text-silk-muted mb-6",children:"Your product has been successfully listed on the marketplace."}),(0,i.jsx)("div",{className:"loading-spinner mx-auto"}),(0,i.jsx)("p",{className:"text-sm text-silk-muted mt-2",children:"Redirecting to product page..."})]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r(),{children:[(0,i.jsx)("title",{children:"Sell Product - BlackSilk Marketplace"}),(0,i.jsx)("meta",{name:"description",content:"List your products on the decentralized BlackSilk marketplace"})]}),(0,i.jsxs)("div",{className:"min-h-screen bg-silk-gradient",children:[(0,i.jsx)("header",{className:"silk-nav",children:(0,i.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,i.jsxs)(c(),{href:"/",className:"flex items-center space-x-2",children:[(0,i.jsx)(d.Z,{className:"h-8 w-8 text-silk-accent"}),(0,i.jsx)("span",{className:"text-xl font-bold text-silk-text",children:"BlackSilk"})]}),(0,i.jsx)(c(),{href:"/",className:"text-silk-muted hover:text-silk-accent",children:"â† Back to Marketplace"})]})})}),(0,i.jsxs)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,i.jsxs)("div",{className:"text-center mb-8",children:[(0,i.jsx)("h1",{className:"text-4xl font-bold text-silk-text mb-4",children:"List Your Product"}),(0,i.jsx)("p",{className:"text-xl text-silk-muted max-w-2xl mx-auto",children:"Create a secure listing with automatic escrow protection"})]}),(0,i.jsxs)("div",{className:"community-warning mb-8",children:[(0,i.jsx)(h,{className:"h-5 w-5 inline-block mr-2"}),(0,i.jsx)("strong",{children:"Community Standards:"})," Don't be sick. No pornographic, illegal, or inappropriate content allowed."]}),(0,i.jsx)("div",{className:"silk-card",children:(0,i.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-8",children:[(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-silk-text mb-6",children:"Basic Information"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"md:col-span-2",children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-silk-text mb-2",children:"Product Title *"}),(0,i.jsx)("input",{type:"text",name:"title",value:n.title,onChange:handleInputChange,placeholder:"Enter a descriptive title",className:"silk-input w-full",maxLength:100,required:!0})]}),(0,i.jsxs)("div",{className:"md:col-span-2",children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-silk-text mb-2",children:"Description *"}),(0,i.jsx)("textarea",{name:"description",value:n.description,onChange:handleInputChange,placeholder:"Describe your product in detail",className:"silk-input w-full h-32 resize-none",maxLength:2e3,required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-silk-text mb-2",children:"Category *"}),(0,i.jsx)("select",{name:"category",value:n.category,onChange:handleInputChange,className:"silk-input w-full",required:!0,children:L.map(e=>(0,i.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-silk-text mb-2",children:"Subcategory"}),(0,i.jsxs)("select",{name:"subcategory",value:n.subcategory,onChange:handleInputChange,className:"silk-input w-full",children:[(0,i.jsx)("option",{value:"",children:"Select subcategory"}),null===(e=L.find(e=>e.id===n.category))||void 0===e?void 0:e.subcategories.map(e=>(0,i.jsx)("option",{value:e,children:e},e))]})]})]})]}),(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-silk-text mb-6",children:"Pricing & Quantity"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-silk-text mb-2",children:"Price (BLK) *"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-silk-muted h-4 w-4"}),(0,i.jsx)("input",{type:"number",name:"price",value:n.price,onChange:handleInputChange,placeholder:"0.00",className:"silk-input w-full pl-10",step:"0.001",min:"0",required:!0})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-silk-text mb-2",children:"Quantity Available *"}),(0,i.jsx)("input",{type:"number",name:"quantity_available",value:n.quantity_available,onChange:handleInputChange,placeholder:"1",className:"silk-input w-full",min:"1",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-silk-text mb-2",children:"Shipping Price (BLK)"}),(0,i.jsx)("input",{type:"number",name:"shipping_price",value:n.shipping_price,onChange:handleInputChange,placeholder:"0.00",className:"silk-input w-full",step:"0.001",min:"0"})]})]})]}),"physical"===n.category&&(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-silk-text mb-6",children:"Shipping Information"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-silk-text mb-2",children:"Ships From *"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(p,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-silk-muted h-4 w-4"}),(0,i.jsx)("input",{type:"text",name:"ships_from",value:n.ships_from,onChange:handleInputChange,placeholder:"Country/Region",className:"silk-input w-full pl-10",required:!0})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-silk-text mb-2",children:"Processing Time"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-silk-muted h-4 w-4"}),(0,i.jsxs)("select",{name:"processing_time",value:n.processing_time,onChange:handleInputChange,className:"silk-input w-full pl-10",children:[(0,i.jsx)("option",{value:"1-3 days",children:"1-3 days"}),(0,i.jsx)("option",{value:"3-5 days",children:"3-5 days"}),(0,i.jsx)("option",{value:"1 week",children:"1 week"}),(0,i.jsx)("option",{value:"2 weeks",children:"2 weeks"}),(0,i.jsx)("option",{value:"1 month",children:"1 month"})]})]})]})]}),(0,i.jsxs)("div",{className:"mt-6",children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-silk-text mb-3",children:"Ships To"}),(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["Worldwide","North America","Europe","Asia","Australia","South America","Africa","Local Only"].map(e=>(0,i.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,i.jsx)("input",{type:"checkbox",checked:n.ships_to.includes(e),onChange:t=>handleShippingRegionChange(e,t.target.checked),className:"rounded border-silk-gray bg-silk-gray text-silk-accent focus:ring-silk-accent"}),(0,i.jsx)("span",{className:"text-sm text-silk-text",children:e})]},e))})]})]}),(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-silk-text mb-6",children:"Product Images"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,i.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-64 border-2 border-silk-gray border-dashed rounded-lg cursor-pointer hover:border-silk-accent transition-colors",children:[(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,i.jsx)(k,{className:"w-10 h-10 text-silk-muted mb-3"}),(0,i.jsxs)("p",{className:"mb-2 text-sm text-silk-muted",children:[(0,i.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,i.jsx)("p",{className:"text-xs text-silk-muted",children:"PNG, JPG, GIF up to 5MB (Max 5 images)"})]}),(0,i.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{let t=Array.from(e.target.files||[]);if(t.length+y.length>5){q("Maximum 5 images allowed");return}let s=t.filter(e=>e.type.startsWith("image/")?!(e.size>5242880)||(q("Images must be less than 5MB"),!1):(q("Only image files are allowed"),!1));v(e=>[...e,...s]),s.forEach(e=>{let t=URL.createObjectURL(e);w(e=>[...e,t])})},className:"hidden"})]})}),y.length>0&&(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:N.map((e,t)=>(0,i.jsxs)("div",{className:"relative group",children:[(0,i.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-full h-24 object-cover rounded-lg"}),(0,i.jsx)("button",{type:"button",onClick:()=>removeImage(t),className:"absolute -top-2 -right-2 bg-silk-warning text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,i.jsx)(b,{className:"h-4 w-4"})})]},t))})]})]}),S&&(0,i.jsx)("div",{className:"bg-silk-warning/20 border border-silk-warning/50 text-silk-warning p-4 rounded-lg",children:S}),(0,i.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,i.jsx)(c(),{href:"/",className:"silk-button-secondary",children:"Cancel"}),(0,i.jsxs)("button",{type:"submit",disabled:C,className:"silk-button flex items-center",children:[C?(0,i.jsx)("div",{className:"loading-spinner mr-2"}):(0,i.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),C?"Creating...":"Create Listing"]})]})]})})]})]})]}):(0,i.jsx)("div",{className:"min-h-screen bg-silk-gradient flex items-center justify-center px-4",children:(0,i.jsxs)("div",{className:"silk-card max-w-md text-center",children:[(0,i.jsx)(d.Z,{className:"h-16 w-16 text-silk-accent mx-auto mb-4"}),(0,i.jsx)("h2",{className:"text-2xl font-bold text-silk-text mb-4",children:"Login Required"}),(0,i.jsx)("p",{className:"text-silk-muted mb-6",children:"You need to access your wallet to create product listings."}),(0,i.jsx)(c(),{href:"/login",className:"silk-button w-full",children:"Login to Continue"})]})})}},1163:function(e,t,s){e.exports=s(9974)}},function(e){e.O(0,[774,996,413,888,179],function(){return e(e.s=7038)}),_N_E=e.O()}]);